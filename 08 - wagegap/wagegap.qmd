---
author: ""
title: "La mujer en el mercado laboral español"
---

## Objetivos

Se estimarán dos modelos de regresión que permitan describir el papel de las mujeres en el mercado laboral de España a principios de la segunda década del siglo XXI. En primer lugar se estimará la magnitud de la **brecha salarial** que padecen las mujeres. En segundo lugar, se examinaran las diferencias en las **tasas de actividad** de hombres y mujeres.

## Datos

Para estudiar la situación de la mujer en el mercado laboral español se utilizarán los datos del proyecto PIAAC de la OCDE. En comparación con otras bases de datos (Encuesta de población activa, Encuesta de estructura salarial), los datos del PIAAC tienen la ventaja de proporcionar información tanto sobre la situación en el mercado laboral de los participantes en el proyecto como sobre los salarios de los que trabajan por cuenta ajena.

### PIAAC

El Programa para la Evaluación Internacional de las Competencias de los Adultos (PIAAC) es una iniciativa de la OCDE para valorar el nivel de conocimientos y el grado y distribución de destrezas de la población adulta a lo largo de su vida laboral, entre los 16 y los 65 años. Esta evaluación se encuadra en un marco comparativo coherente para poder establecer contrastes internacionales.

La [página](https://www.oecd.org/skills/piaac/) de la OCDE del PIAAC contiene mucha información. En concreto, proporciona acceso a:

-   Las [bases de datos públicas](https://www.oecd.org/skills/piaac/data/) en varios formatos.
-   Informes técnicos y los diferentes [informes nacionales](https://www.oecd.org/skills/piaac/country-specific-material.htm).

Los datos para España se recogieron entre septiembre de 2011 y mayo de 2012. El archivo `esp.csv` recopila una pequeña parte de los datos del PIAAC para España. En concreto, contiene las siguientes variables:

-   `GENDER_R`: Person gender.

    | Value | Label  |
    |:-----:|:-------|
    |   1   | Male   |
    |   2   | Female |

    : {tbl-colwidths="\[15,85\]"}

-   `AGE_R`: Person age in years.

-   `EARNHR`: Hourly earnings excluding bonuses for wage and salary earners in euros.

-   `YRSQUAL`: Highest level of education obtained imputed into years of education.

-   `C_D05`: Employment status.

    | Value | Label                  |
    |:-----:|:-----------------------|
    |   1   | Employed               |
    |   2   | Unemployed             |
    |   3   | Out of the labor force |

    : {tbl-colwidths="\[15,85\]"}

-   `C_Q09`: Years of paid work during lifetime.

-   `D_Q03`: Current work: economic sector.

    | Value | Label                                                                                              |
    |:------------------:|:---------------------------------------------------|
    |   1   | The private sector (for example a company)                                                         |
    |   2   | The public sector (for example the local government or a state school)                             |
    |   3   | A non-profit organisation (for example a charity, professional association or regious organisation |

    : {tbl-colwidths="\[15,85\]"}

-   `D_Q05a2`: Current work: start of work for employer (year).

-   `D_Q09`: Current work: type of contract.

    | Value | Label                                      |
    |:-----:|:-------------------------------------------|
    |   1   | An indefinite contract                     |
    |   2   | A fixed term contract                      |
    |   3   | A temporary employment agency contract     |
    |   4   | An apprenticeship or other training scheme |
    |   5   | No contract                                |
    |   6   | Other                                      |

    : {tbl-colwidths="\[15,85\]"}

-   `J_Q02a`: Living with spouse or partner.

    | Value | Label |
    |:-----:|:------|
    |   1   | Yes   |
    |   2   | No    |

    : {tbl-colwidths="\[15,85\]"}

-   `J_Q03b`: Number of children.

-   `J_Q04a`: Born in country.

    | Value | Label |
    |:-----:|:------|
    |   1   | Yes   |
    |   2   | No    |

    : {tbl-colwidths="\[15,85\]"}

### Lectura de los datos

La función `read.csv` lee los datos contenidos en ficheros con formato CSV. Las variables deben estar separadas por comas y se usa el punto como separador decimal. La instrucción:

```{r}
esp <- read.csv("esp.csv")
```

leerá los datos de `esp.csv` y guardará los resultados en la base de datos `esp`.

### Valores ausentes

La variable `EARNHR` contiene el salario por hora de los individuos que forman la muestra. Sólo los individuos que trabajan por cuenta ajena perciben un salario por lo que la variable `EARNHR` tiene valores ausentes (*missing values*) en las observaciones correspondientes a desempleados, a trabajadores por cuenta propia y a inactivos. En R los valores ausentes se codifican con el símbolo `NA` (*not available*). Podemos averiguar cuantas observaciones ausentes tiene una variable con la función `summary`:

```{r}
summary(esp$EARNHR)
```

En muchas ocasiones, R maneja automáticamente los valores ausentes y no tenemos que hacer nada especial. Por ejemplo, podemos calcular el logaritmo del salario usando la función `log` como hasta ahora:

```{r}
esp$lsalario <- log(esp$EARNHR)
```

La función `log` propaga los valores ausentes que aparecen en la variable original y calcula el logaritmo de las restantes observaciones.

```{r}
summary(esp$lsalario)
```

Aunque generalmente podemos ignorar la presencia de valores ausentes, en ocasiones tendremos que manejarlos explícitamente. Por ejemplo, si tratamos de obtener el salario medio con la función `mean` obtenemos `NA` como resultado:

```{r}
mean(esp$EARNHR)
```

Algunas funciones (`sum`, `mean`, `max`, `var`, etc.) cuentan con el argumento `na.rm` (*NA remove*) con el que es posible ignorar los valores ausentes en los cálculos. Obtenemos el salario medio con la siguiente instrucción:

```{r}
mean(esp$EARNHR, na.rm = TRUE)
```

Para detectar la presencia de valores ausentes se utiliza la función `is.na`. La siguiente instrucción crea la variable lógica `asalariado` que toma el valor `TRUE` para aquellas observaciones en que el salario **no** es un valor ausente:

```{r}
esp$asalariado <- !is.na(esp$EARNHR)
```

### Transformación de los datos

Además de las variables `lsalario` y `asalariado`, hay que crear otras variables en la base de datos `esp`. Estas variables se incluirán posteriormente en los modelos de regresión.

#### Variables demográficas y situación familiar

::: {.callout-note appearance="simple"}
Cree la variable `edad`: edad en años. Coincide con `AGE_R`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `mujer`: variable ficticia que toma el valor 1 para las mujeres y 0 para los hombres. Se construye a partir de la variable `GENDER_R`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `inmigr`: ficticia que toma el valor 1 si el trabajador nació fuera de España. Se construye a partir de `J_Q04a`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `hijos`: ficticia que toma el valor 1 si el trabajador tiene hijos dependientes. Se construye a partir de `J_Q03b`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `pareja`: ficticia que toma el valor 1 si el trabajador convive con su pareja. Se construye a partir de `J_Q02a`.
:::

```{r}

```

#### Nivel educativo

::: {.callout-note appearance="simple"}
Cree la variable `educ`: años de educación. Coincide con la variable `YRSQUAL`.
:::

```{r}

```

#### Situación laboral

::: {.callout-note appearance="simple"}
Cree la variable `activ`: variable ficticia que toma el valor 1 para las personas que pertenecen a la población activa. Se construye a partir de `C_D05`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `exper`: años de experiencia laboral. Coincide con `C_Q09`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `antig`: años de antigüedad en la empresa. La variable `D_Q05a2` registra el año en que la persona comenzó a trabajar para su actual empresa. Para obtener la antigüedad en el año de la encuesta, 2012, restamos el valor de `D_Q05a2` a 2012.
:::

```{r}

```

#### Tipo de empresa

Las empresas para las que trabajan los asalariados se clasifican en: privadas (categoría de referencia), públicas o sin ánimo de lucro.

::: {.callout-note appearance="simple"}
Cree la variable `pub`: ficticia que toma el valor 1 para los trabajadores del sector público. Se construye a partir de `D_Q03`.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `ong`: ficticia que toma el valor 1 para los trabajadores de instituciones sin ánimo de lucro. Se construye a partir de `D_Q03`.
:::

```{r}

```

#### Tipo de contrato laboral

Los contratos laborales de los asalariados se clasifican en: indefinido (categoría de referencia), temporal, aprendizaje y otros contratos.

::: {.callout-note appearance="simple"}
Cree la variable `temp`: contrato temporal. Ficticia que toma el valor 1 cuando `D_Q09` es igual a 2 o a 3.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `apr`: contrato de aprendizaje. Ficticia que toma el valor 1 cuando `D_Q09` es igual a 4.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Cree la variable `otro`: otra situación contractual. Ficticia que toma el valor 1 cuando `D_Q09` es igual a 5 o 6.
:::

```{r}

```

## Ecuaciones de salarios

En esta sección plantemos la estimación de **ecuaciones de salarios**: modelos econométricos que explican los salarios (usualmente en logaritmos) a partir de características de los trabajadores (cualificación académica, experiencia laboral, etc.) y de su puesto de trabajo (tipo de empresa, tipo de contrato, etc.)

Para la estimación y la inferencia robusta a heteroscedasticidad se necesitan los paquetes `sandwich`, `lmtest` y `car`:

```{r}
#| message: false
#| warning: false

library(sandwich)
library(lmtest)
library(car)
```

Los modelos de esta sección sólo se aplican a las personas que trabajan por cuenta ajena. Construiremos una base de datos que sólo incluya las observaciones correspondientes a asalariados. La función `subset` conserva las observaciones que cumplen una determinada condición y elimina aquellas para las que no se cumple. En nuestro caso utilizaremos la variable `asalariado` para construir la base de datos `esp_asal`:

```{r}
# En la función subset se pueden usar los nombres de las variables sin 
# indicar la base de datos (asalariado en vez de esp$asalariado).
esp_asal <- subset(esp, asalariado == TRUE)
```

::: {.callout-warning appearance="simple"}
En las estimaciones de las ecuaciones de salarios use la base de datos `esp_asal`.
:::

::: {.callout-warning appearance="simple"}
A la hora de estimar por intervalos o realizar contrastes de hipótesis use métodos que sean válidos aún en presencia de heteroscedasticidad.
:::

::: {.callout-warning appearance="simple"}
Utilice un nivel de significación $\alpha = 5\%$ o, equivalentemente, un nivel de confianza $1 - \alpha = 95\%$.
:::

### Brecha salarial no ajustada

La **brecha salarial no ajustada** mide la diferencia entre los salarios percibidos por las mujeres y los percibidos por los hombres sin tener en cuenta ninguna otra característica de los trabajadores. Se estima a partir de un modelo de regresión simple que tiene el logaritmo del salario, `lsalario`, como variable dependiente y `mujer` como variable explicativa: $$
  \mathit{lsalario} = \beta_0 
    + \beta_1 \mathit{mujer} 
    + u 
$$ {#eq-mod1}

::: {.callout-note appearance="simple"}
¿Cuál es la interpretación del parámetro $\beta_1$?
:::

*Respuesta*:

::: {.callout-note appearance="simple"}
Estime los parámetros del modelo de la @eq-mod1 y presente una tabla con los resultados de la estimación.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Usando los resultados presentados en la tabla de la regresión, contraste la existencia de una brecha salarial en contra de las mujeres.
:::

*Respuesta*:

### Brecha salarial ajustada

La **brecha salarial ajustada** tiene en cuenta otras variables que capturan características individuales y del puesto de trabajo. La estimaremos a partir del modelo de regresión múltiple: $$
\begin{aligned}
  \mathit{lsalario} =\, &\beta_0 
    + \beta_1 \mathit{mujer} 
    + \beta_2 \mathit{educ} 
    + \beta_3 \mathit{exper} 
    + \beta_4 \mathit{antig} 
    \, + \\ &\beta_5 \mathit{pub} 
    + \beta_6 \mathit{ong} 
    + \beta_7 \mathit{temp} 
    + \beta_8 \mathit{apr} 
    + \beta_9 \mathit{otro}
    \, + \\ &\beta_{10} \mathit{edad} 
    + \beta_{11} \mathit{hijos} 
    + \beta_{12} \mathit{inmigr} 
    + \beta_{13} \mathit{pareja} 
    + u 
\end{aligned}
$$ {#eq-mod2}

::: {.callout-note appearance="simple"}
Estime los parámetros del modelo de la @eq-mod2 y presente una tabla con los resultados de la estimación.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Contraste la significación conjunta de la regresión.
:::

```{r}

```

*Respuesta*:

::: {.callout-note appearance="simple"}
Discuta brevemente el signo y la magnitud de las estimaciones de los parámetros y la significación de las variables explicativas.
:::

*Respuesta*:

::: {.callout-note appearance="simple"}
¿Hay diferencias entre las estimaciones de la brecha salarial no ajustada y de la ajustada?
:::

*Respuesta*:

::: {.callout-note appearance="simple"}
Obtenga un intervalo de confianza para la brecha salarial ajustada.
:::

```{r}

```

*Respuesta*:

## Participación en el mercado laboral

En esta sección se estudiará la incorporación de la mujer al mercado de trabajo utilizando modelos lineales de probabilidad donde la variable dependiente es la variable ficticia `activ` que toma el valor 1 para las personas que participan en el mercado de trabajo.

::: {.callout-warning appearance="simple"}
En los modelos de esta sección se utiliza la base de datos completa, `esp`, ya que es necesario usar información tanto de las personas que estén inactivas como de las personas que componen la población activa.
:::

::: {.callout-warning appearance="simple"}
En los contrastes de hipótesis use métodos que sean válidos aún en presencia de heteroscedasticidad.
:::

::: {.callout-warning appearance="simple"}
Utilice un nivel de significación $\alpha = 5\%$.
:::

### Modelo de probabilidad lineal simple

Podemos medir diferencias en la tasa de actividad de las mujeres estimando el modelo de regresión simple: $$
  \mathit{activ} = \alpha_0 
    + \alpha_1 \mathit{mujer} 
    + v 
$$ {#eq-mod3}

::: {.callout-note appearance="simple"}
¿Cuál es la interpretación del parámetro $\alpha_1$?
:::

*Respuesta*:

::: {.callout-note appearance="simple"}
Estime los parámetros del modelo de la @eq-mod3 y presente una tabla con los resultados de la estimación.
:::

```{r}

```

::: {.callout-note appearance="simple"}
Usando los resultados de la tabla de la regresión, ¿hay diferencias entre las tasas de actividad de hombres y mujeres? ¿Son significativas esas diferencias?
:::

*Respuesta*:

### Modelo de probabilidad lineal múltiple

Añadiremos más variables explicativas a la @eq-mod3: $$
\begin{aligned}
  \mathit{activ} =\, &\alpha_0 
    + \alpha_1 \mathit{mujer} 
    + \alpha_2 \mathit{educ} 
    + \alpha_3 \mathit{exper} 
    \,+\\ & \alpha_4 \mathit{edad} 
    + \alpha_5 \mathit{hijos} 
    + \alpha_6 \mathit{inmigr} 
    + \alpha_7 \mathit{pareja} 
    + v 
\end{aligned}
$$ {#eq-mod4}

::: {.callout-note appearance="simple"}
Estime los parámetros del modelo de la @eq-mod4 y presente una tabla con los resultados de la estimación.
:::

```{r}

```

::: {.callout-note appearance="simple"}
¿Hay diferencias entre las estimaciones del parámetro $\alpha_1$ de la @eq-mod3 y la @eq-mod4?
:::

*Respuesta*:

::: {.callout-note appearance="simple"}
Contraste la significación conjunta de la regresión.
:::

```{r}

```

*Respuesta*:

::: {.callout-note appearance="simple"}
Discuta brevemente el signo y la magnitud de las estimaciones de los parámetros y la significación de las variables explicativas.
:::

*Respuesta*:
